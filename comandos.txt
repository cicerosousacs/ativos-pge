	TABLE MODEL ACQUISITION(aquisição)

	rails g model Acquisition item:string quantity:string value:float manager:string acquisition_date:date 
	contract_number:string company:string interested_party:string modality:string source:string warranty_period:integer warranty_ends:date
	
	  enum modality:{ 
			 CONCORRÊNCIA: 'CONCORRÊNCIA', 
			 PREGÃO: 'PREGÃO', 
			 LEILÃO: 'LEILÃO', 
			 CONCURSO: 'CONCURSO', 
			 "COTAÇÃO PREÇO": 'COTAÇÃO PREÇO', 
			 "DIÁLOGO COMPETITIVO": 'DIÁLOGO COMPETITIVO' 
			}
		  
	  enum source: { 
			MAPP: 'MAPP', 
			FUNPECE: 'FUNPECE', 
			"PGE FUNDO": 'PGE FUNDO'
			}

	TABLE MODEL ASSET(ativo)

	rails g model Asset type:string brand:string model:string serial:string tombo:string
	specification:text acquisition:references
	
	TABLE MODEL USER(usuario)

	rails g model User name:string email:string

	TABLE AREA

	rails g model Area description:string

	TABLE SUBAREA

	rails g model Subarea area:references description:string

	TABLE BOND(vinculo)

	rails g model Bond subarea:references user:references observation:string
	
	TABLE 

	rails g model call_number bond:references number:integer(max 7 digitos) model: length: { is: 7 }

	TABLE 

	rails g model allocated_asset bond:references asset:references description:string status:references
	
	TABLE MODEL status

	rails g model Status description:string
		VINCULADO
		VÍNCULADO EM USO 
		DISPONÍVEL
		DEFEITO
		INSERVÍVEL 
		AGUARDANDO GARANTIA

	
	TABLE DEPOSIT
	
	rails g model Deposit ativo:references status:references observation:string linked:boolean
	
	TABLE ADMIN
	
	rails g migrate AddNameToAdmin name:string
	rails g migrate AddActiveToAdmin active:boolean
	
	#########################################

	CONTROLLER

	rails g controller ativo_pge::admins index
	
	rails g controller ativo_pge::ativos index
	rails g controller ativo_pge::acquisitions index
	
	rails g controller ativo_pge::users index
	rails g controller ativo_pge::areas index
	rails g controller ativo_pge::subareas index
	
	rails g controller ativo_pge::bonds index
	
	################################################
	
	PAGINAÇÂO VIEW
	rails g kaminari:views bootstrap4linked


RETORNAM O MESMO VALOR DE CONTAGEM

  Ativo.where(type:'NOBREAK').count mais rapido
  Ativo.where(type:'NOBREAK').size

	CONTA A QUANTIDADE E AGRUPA
	Ativo.select(:type).group(:type).count
	
type_count = Ativo.select(:type).group(:type).count
type_count.keys
type_count.values

@type_count.each do |type|
	type
end


SELECT COUNT(type) AS type_count FROM public.ativos WHERE type = 'VOIP ';

                <%= "#{ativo.type} - #{ativo.type_count}" %>


@ativos.find(id = 3297).attach_ativo.status
Ativo.find(id = 3297).attach_ativo.status
 
@ativos_available = AttachAtivo.DISPONÍVEL.count
@ativos_linked = AttachAtivo.VÍNCULADO.count


SESSION LOGIN ########################

<%= render "admins/shared/links" %>

######################################

<% if devise_mapping.rememberable? %>
	<div class="field">
		<%= f.check_box :remember_me %>
		<%= f.label :remember_me %>
	</div>
<% end %>

ap b = Bond.where("id = '3'", "area = '8'")

Contagem de Ativos passando o id da Area
Bond.joins(:attach_ativo).where(area:'1').length

Bond.select(:area).group(:area)

descobrir o ativo a ser removido do vinculo:
ativo_move = params_bond[:attach_ativo_attributes]["1"][:ativo_id]

pesquisar vinculo:
AttachAtivo.joins(:ativo)

pesquisar vinculo, passando o id:
AttachAtivo.joins(:ativo).where(bond_id:'4').count

"https://mailtrap.io/inboxes/1711410/messages/2739803459"




.bg-success {
  background-color: #13855c !important;
}

select com todos os tipos de ativos:
        <%= select_tag 'ativo_type', options_from_collection_for_select(@type, "id", "type"), class:"form-control"%>


          <%= form_tag(ativo_pge_admins_path, method: :post) do %>
            <%= text_field_tag 'search', nil, class:"form-control border-1 small", placeholder:'Pesquisar...'%>
          <% end %>
          <div class="input-group-append">
            <%= button_tag type:'submit', class:"btn btn-primary" do %>
              <i class="fas fa-search fa-sm"></i>
            <% end %>
          </div>


action_name = retorna qual a action do momento


params[:bond][:attach_ativo_attributes] = retorna as coisas


JQUETY SOMA DATA FINAL

campo data compra: $('#acquisition_acquisition_date')[0].value
campo de meses: $('#acquisition_warranty_period')[0].value
campo data final: $('#acquisition_warranty_ends')[0].value




